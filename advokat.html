async function sendMessage() {
  const text = input.value.trim();
  if (!text) return;
  addBubble(text, "user");
  input.value = "";
  const typing = addBubble("Escribiendo...", "bot");

  try {
    const res = await fetch(WEBHOOK, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: text })
    });

    const raw = await res.text(); // ðŸ‘ˆ Recoge texto plano
    typing.remove();

    // ðŸ’¬ AÃ±ade directamente el texto como respuesta
    addBubble(raw || "Sin respuesta del servidor.", "bot", true);

  } catch (err) {
    typing.remove();
    addBubble("Error de conexiÃ³n con el servidor.", "bot");
    console.error(err);
  }
}
